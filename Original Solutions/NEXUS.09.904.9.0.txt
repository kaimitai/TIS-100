@0
START: MOV 5,ACC
JRO DOWN
1: MOV RIGHT,LEFT
SUB 1
JEZ START
JMP 1
5: SAV
 MOV LEFT,ACC
ADD DOWN
MOV ACC,RIGHT
SWP
SUB 1
JEZ START
JMP 5
13: MOV UP,DOWN

@1
-5: MOV 5,ACC
LP: MOV 0,UP
SUB 1
JEZ DONE
JMP LP
DONE: JRO RIGHT
1: MOV 5,ACC
SAV
LP2: SWP
MOV UP,ACC
MOV ACC,DOWN
MOV ACC,DOWN
SWP
SUB 1
JNZ LP2

@2
NEXT: MOV 13,UP
MOV UP,ACC
JEZ SEQDONE
MOV 5,UP
MOV ACC,RIGHT
MOV 5,ACC
LOOP:MOV RIGHT,UP
SUB 1
JEZ DONE
JMP LOOP
DONE:
MOV 1,UP
JMP NEXT
SEQDONE:MOV 1,LEFT
MOV DOWN,UP

@3
##KAIMITAI 1ST
MOV 5,ACC
SAV
MOV LEFT,ACC
LOOP: SUB 1
 JEZ OK
  MOV 0,LEFT
  JMP E2
 OK: MOV 1,LEFT
 E2: SWP
 SUB 1
 JEZ END
 SWP
 JMP LOOP
 END: #JRO 0

@4
-1: MOV 0,ACC
START: JRO RIGHT
1: SAV
SUB UP
MOV ACC,RIGHT
JEZ EQ
JLZ NEW
MOV UP,NIL
SWP
JMP START
NEW: MOV UP,ACC
JMP START
EQ: MOV UP,ACC
JMP START

@5
MOV 5,ACC
LOOP: MOV 1,LEFT
MOV 1,RIGHT
MOV LEFT,RIGHT
MOV ACC,RIGHT
SUB 1
JEZ END
JMP LOOP
END: MOV 13,RIGHT
MOV 6,ACC
SUB RIGHT
MOV ACC,DOWN
MOV -1,LEFT
MOV -1,RIGHT
MOV -1,UP

@6
-1: MOV 0,ACC
START: JRO LEFT
1: SAV
MOV LEFT,ACC
JLZ NEW
JEZ TIE
MOV LEFT,NIL
SWP
JMP START
NEW: MOV LEFT,ACC
JMP START
TIE: MOV 6,ACC
MOV LEFT,NIL
JMP START
13: MOV ACC,LEFT